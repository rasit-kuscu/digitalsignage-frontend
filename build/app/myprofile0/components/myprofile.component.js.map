{"version":3,"sources":["app/myprofile0/components/myprofile.component.ts"],"names":[],"mappings":"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","file":"app/myprofile0/components/myprofile.component.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Router, ROUTER_DIRECTIVES } from '@angular/router';\nimport { tokenNotExpired } from 'angular2-jwt';\nimport { REACTIVE_FORM_DIRECTIVES, FormBuilder, Validators } from '@angular/forms';\nimport { Http } from '@angular/http';\nimport { NotificationsService, SimpleNotificationsComponent } from 'notifications';\nimport { ValidationService } from '../../common/services/validation.service';\nimport { LoaderAnimation } from '../../common/components/loader.animation';\nimport { PermissionDenied } from '../../common/components/permission.denied';\nimport { ControlMessages } from '../../common/components/control.messages';\nimport { MyProfileService } from '../services/myprofile.service';\nimport { MyProfile } from '../models/myprofile';\n\n@Component({\n\tselector: \"myprofile\",\n\ttemplateUrl: \"./app/myprofile/components/myprofile.html\",\n\tdirectives: [ROUTER_DIRECTIVES, REACTIVE_FORM_DIRECTIVES, SimpleNotificationsComponent, LoaderAnimation, ControlMessages, PermissionDenied],\n\tproviders: [MyProfileService, NotificationsService]\n})\nexport class MyProfileComponent implements OnInit {\n  isDataAvailable:boolean = false;\n\tisPermissionOkay:boolean = true;\n  defaultGroupIdValue:number;\n  myProfileForm:any;\n  notificationOptions = {timeOut: 5000, maxStack: 1};\n\tmyProfile: MyProfile = new MyProfile();\n\n  constructor(private _myProfileService: MyProfileService,\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate _notificationService: NotificationsService) {\n    this.myProfileForm = this.formBuilder.group({\n      'default_group_id': ['', Validators.required],\n      'username': [''],\n      'email': ['', [Validators.required, ValidationService.emailValidator]],\n      'passwords': this.formBuilder.group({\n        'password': ['', ValidationService.passwordValidatorChange],\n        're_password': ['']\n      }, {validator: ValidationService.passwordMatch})\n    });\n  }\n\n\tngOnInit() {\n\t\tthis._myProfileService.load()\n\t\t.subscribe(\n\t\t\t(data:MyProfile) => {\n\t\t\t\tthis.myProfile = data;\n\t\t\t\tthis.myProfileForm.controls.username.updateValue(data.username);\n        this.myProfileForm.controls.email.updateValue(data.email);\n        this.myProfileForm.controls.default_group_id.updateValue(data.defaultGroupId);\n\t\t\t\tthis.isDataAvailable = true;\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tthis.isDataAvailable = false;\n\t\t\t\tif (error.status === 403 && error.statusText === 'Forbidden') {\n\t\t\t\t\tthis.isPermissionOkay = false;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tdefaultGroupSelector(value) {\n\t\tthis.defaultGroupIdValue = value;\n\t}\n\n\tsave() {\n\t\tlet myProfile = new MyProfile();\n\t\tmyProfile.email = this.myProfileForm.value.email;\n\t\tmyProfile.password = this.myProfileForm.value.passwords.password;\n\t\tmyProfile.defaultGroupId = this.defaultGroupIdValue;\n\n\t\tthis._notificationService.alert('Kaydediliyor', 'İşleminiz yapılıyor, lütfen bekleyiniz.', {});\n\t\tthis._myProfileService.save(myProfile)\n\t\t.subscribe(\n\t\t\t(data:MyProfile) => {\n\t\t\t\tthis._notificationService.success('İşlem Başarılı', 'Kullanıcı bilgileriniz güncellendi.', {});\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t);\n\t}\n}\n"],"sourceRoot":"/source/"}