<loader-animation *ngIf="!isDataAvailable"></loader-animation>
<div *ngIf="isDataAvailable">
  <div class="row">
    <div class="col-md-12">
      <div class="page-header">
        <div class="btn-toolbar pull-right">
          <a href class="btn btn-warning" [routerLink]="['/management','user']"><b>Geri</b></a>
          <button class="btn btn-success" form="serviceUserForm" [disabled]="!serviceUserForm.valid || isSaving"><b>Kaydet</b></button>
        </div>
        <h1>Servis Kullanıcısı
          <small>Servis kullanıcınızı güncelleyin.</small>
        </h1>
      </div>
    </div>
  </div>

  <form role="form" id="serviceUserForm" [formGroup]="serviceUserForm" (submit)="save()">
    <div class="row">
      <div class="col-md-6">
        <fieldset>
          <legend>Servis Kullanıcı Bilgileri</legend>
          <label for="name">Kullanıcı Adı</label>
          <div class="input-group">
            <div class="input-group-addon">SERVICE_</div>
            <input type="text" class="form-control" id="username" formControlName="username" placeholder="Servis Kullanıcı Adı" style="text-transform:uppercase">
          </div>
          <control-messages [control]="serviceUserForm.controls.username"></control-messages>

          <div class="form-group" style="margin-top:15px;">
            <label for="password">Şifre</label>
            <input type="password" class="form-control" id="password" [formControl]="serviceUserForm.controls['passwords']['controls']['password']" placeholder="Şifre">
            <control-messages [control]="serviceUserForm.controls['passwords']['controls']['password']"></control-messages>
          </div>
          <div class="form-group">
            <label for="re_password">Şifre (tekrar)</label>
            <input type="password" class="form-control" id="re_password" [formControl]="serviceUserForm.controls['passwords']['controls']['re_password']" placeholder="Şifre (tekrar)">
            <control-messages [control]="serviceUserForm.controls['passwords']['controls']['re_password']"></control-messages>
            <control-messages [control]="serviceUserForm.controls['passwords']"></control-messages>
          </div>
        </fieldset>
      </div>
      <div class="col-md-6">
        <fieldset>
          <legend>Açıklama</legend>
          <div *ngIf="!serviceUser.enabled" class="alert alert-danger">
            <b>Servis Dışı</b> Servis kullanıcınızı aktive etmek için bir şifre belirleyin.
          </div>
          <div class="alert alert-warning">
            <b>Güvenlik Uyarısı</b> Şifreniz sistem üzerinden görüntülenemez.
            Şifreyi belirledikten sonra sistemin size sunmuş olduğu dosyayı saklamalısınız.
            <b>Şifrenizi güncellemeden bu işlemi ikinci kez yapamazsınız!</b>
          </div>

          <h4>Servis Kullanıcısı Nedir?</h4>
          <p>Hesabınızın sistem uygulamalarına erişmesini sağlayan ve kısıtlı yetkilere sahip olan kullanıcıdır. Kullanım alanları aşağıdaki gibidir;</p>
          <ul>
            <li>Cihaz Tanımlama</li>
            <li>Dosya Saklama</li>
          </ul>
        </fieldset>
      </div>
    </div>
  </form>
  <simple-notifications [options]="notificationOptions"></simple-notifications>
</div>
